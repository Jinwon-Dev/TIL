### SSO

> **SSO(Single Sign On)이란?**
> 
- **기본적으로 한 사이트에서 로그인을 한 후, 다른 사이트를 둘러볼 때 추가적인 로그인 절차 없이 로그인한 상태를 유지하는 서비스**
    - 즉, 한 번의 로그인으로 여러 사이트를 회원가입 한 채로 돌아다닐 수 있다!
    - ex) 네이버를 로그인 한 후 네이버 메일, 블로그, 클라우드 등의 서비스를 이용할 수 있다.

<img width="481" alt="image" src="https://user-images.githubusercontent.com/106216912/230586230-65b41dbd-7de7-412d-a10c-9556a98d3703.png">

</br>

</br>

### SAML

> **SAML(Security Assertion Markup Language)이란?**
> 
- **하나의 자격 증명으로 한 번만 로그인 하여 여러 앱에 액세스할 수 있게 해주는 기술**

</br>

> **인증 절차 및 데이터 흐름도**
> 
- **IdP(Identity Provider)** : 인증 제공 서버
- **User** : 고객
- **Sp(Service Provider)** : 서비스 제공 서버

<img width="482" alt="image" src="https://user-images.githubusercontent.com/106216912/230586346-10152a6d-4be3-4f45-9896-f665f5d9594e.png">

1. 고객이 서비스 제공 서버에 접근해 컨텐츠를 요청하면, 서비스 제공 서버에서 인증 제공 서버로 해당 고객이 인증되었는지 여부를 체크한다.
2. 인증되었으면 컨텐츠를 제공한다.
3. 인증 제공 서버에 로그인 하지 않았던 경우에는 4번 요청에서 로그인 절차를 밟는다.
4. 정상적으로 로그인이 된다면, 나머지 프로세스는 동일하다.

</br>

→ 하지만, SAML 방식은 간단한 데이터를 제공할 때도 많은 태그가 필요하다는 단점이 존재한다.

</br>

</br>

### OAuth

> **OAuth란?**
> 
- **다양한 플랫폼 환경에서 권한 부여를 위한 산업 표준 프로토콜**이다.
    - 로그인을 제공하는 플랫폼의 아이디만 있으면, 서비스를 이용할 수 있다.
    - 외부 서비스에서도 인증을 가능하게 하고, 그 서비스의 API를 이용하게 해준다.

</br>

> **인증 절차 및 데이터 흐름도**
> 

<img width="492" alt="image" src="https://user-images.githubusercontent.com/106216912/230586495-9b514877-fe98-477b-9e20-29e1e16b9991.png">

- **Access Token**
    - 이 토큰은 보호된 리소스에 접근할 때 권한 확인용으로 사용된다.
    - 문자열 형태이며, 클라이언트에 발급된 권한을 대변하게 된다.
    - 계정 아이디와 비밀번호 등 계정 인증에 필요한 형태들을 토큰 하나로 표현함으로써, 리소스 서버는 여러 가지 인증 방식에 각각 대응 하지 않아도 권한을 확인할 수 있다.

</br>

- **Refresh Token**
    - Access Token의 유효기간이 만료되면, 새로운 액세스 토큰을 얻을 때 활용된다.
    - 권한 서버가 Access Token을 발급해주는 시점에 Refresh Token도 함께 발급하여 클라이언트에게 알려주기 때문에, 발급 절차 없이 미리 갖고 있을 수 있다.
    - Access Token과 동일하게 문자열 형태이다.
    - 권한 서버에서만 활용되고, 리소스 서버에는 전송되지 않는다.

</br>

</br>

### OIDC

> **OIDC(OpenID Connect)란?**
> 
- **OAuth 2.0 기반으로 유저를 인증하는 프로토콜**이다.
    - OAuth는 Authorization을 포함한다면, OIDC는 Authentication에 집중한다.

</br>

> **인증 과정**
> 
- OAuth 2.0의 스코프(클라이언트가 리소스 서버에 접근할 수 있는 제한 범위)로 `openid` 값이 포함되어 들어오면, 액세스 토큰과 함께 사용자 인증에 대한 정보를 반환한다.
    
    → **`ID Token` 이라고 불리는 JWT!**
    

</br>

> **OAuth만으로 인증할 수 있지 않나?**
> 
- OAuth를 단독으로 사용하면, Access Token을 발급 받은 다음 사용자 리소스를 다시 요청하여 받아와야 한다.
    - 하지만, OIDC를 사용하면 Access Token과 함께 전달받은 `ID Token` 을 복호화하여 사용자 정보를 가져오면 된다.

</br>

→ ***OIDC를 사용하면 OAuth를 단독으로 사용할 때 발생하는 통신 횟수가 절반으로 줄어든다!***