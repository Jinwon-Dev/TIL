> **현대 운영체제는 한 프로세스가 다중 스레드를 포함하는 특성을 제공한다.**

→ 다중 CPU를 제공하는 최신 다중 코어 시스템에서, **스레드 사용을 통한 병렬 처리의 기회를 식별하는 것**이 중요하다.

---

## 1. 개요

→ ***스레드는 CPU 이용의 기본 단위이다.***

- 스레드 ID, 프로그램 카운터, 레지스터 집합, 스택으로 구성된다.
    - 스레드는 **같은 프로세스에 속한 다른 스레드와 운영체제 자원들을 공유**한다.

</br>

<img width="489" alt="image" src="https://user-images.githubusercontent.com/106216912/210487126-fba2b150-aafc-41ff-bb87-a7c403c2f905.png">

- 프로세스가 다수의 제어 스레드를 갖는다면, **프로세스는 동시에 하나 이상의 작업을 수행**할 수 있다.
    - **단일 스레드 프로세스**
    - **다중 스레드 프로세스**

</br>

### 동기

→ ***현대의 컴퓨터와 모바일 기기에서 작동하는 소프트웨어 응용들은 다중 스레드를 이용한다.***

- 하나의 응용은 몇 개의 실행 흐름을 가진 독립적인 프로세스로 구현된다.
    - ex) 웹 브라우저는 하나의 스레드가 이미지를 표시하고, 다른 스레드는 데이터 검색을 할 수 있다.

</br>

> **응용은 다중 코어 시스템에서 처리 능력을 향상시키도록 설계될 수 있다.**

→ **다중 계산 코어를 사용해서 다수의 CPU-집중 작업을 병렬로 처리**할 수 있다.

</br>

- **하나의 응용 프로그램이 여러 개의 비슷한 작업을 수행할 필요가 있는 상황**이 있다.
    - ex) 웹 서버는 수천 개의 클라이언트들이 병행하게 접근한다.
        - 이 때, **웹 서버가 단일 스레드 프로세스로 작동한다면, 클라이언트들은 매우 긴 시간을 기다려야 한다.**

</br>

- **해결책** : 서버가 요청을 받아들이는 하나의 프로세스로 동작하게 하는 것이다.
    - 즉, 서비스 요청이 들어오면, 프로세스는 그 요청을 수행할 별도의 프로세스를 생성하는 것이다.

</br>

> **하지만 새 프로세스가 해야 할 일이 기존 프로세스와 동일하다면 왜 이런 오버헤드를 감수해야 할까?**

→ **그럴 바엔, 프로세스 안에 여러 스레드를 만들어 나가는 것이 효율적이다!**

<img width="486" alt="image" src="https://user-images.githubusercontent.com/106216912/210487279-52bf1eb1-c1cc-49f7-ba7b-eab0fc0eca2c.png">

</br>

- 대부분의 운영체제 커널도 일반적으로 다중 스레드이다.
    - 많은 응용 프로그램 또한, 기본 정렬, 트리 및 그래프 알고리즘을 포함하여 다중 스레드를 활용할 수 있다.

</br>

### 장점

→ ***다중 스레드 프로그래밍의 이점은 4가지 큰 부류로 나눌 수 있다.***

1. **응답성(responsiveness)**
    - 응용 프로그램의 일부분이 봉쇄되거나 긴 작업을 수행하더라도 프로그램이 계속되는 것을 허용한다.
        - **사용자에 대한 응답성을 증가**시킨다.
        - 사용자 인터페이스를 설계하는 데 있어 특히 유용하다.

</br>

2. **자원 공유(resouce sharing)**
    - 프로세스는 공유 메모리와 메시지 전달 기법을 통해야만 자원을 공유할 수 있다.
    - 하지만, **스레드는 자동으로 그들이 속한 프로세스의 자원들과 메모리를 공유**한다.

</br>

3. **경제성(economy)**
    - 프로세스 생성을 위해 메모리와 자원을 할당하는 것은 비용이 많이 든다.
    - 하지만, 스레드는 자신이 속한 프로세스의 자원들을 공유한다.
        - **스레드를 생성하고, 문맥 교환하는 것이 경제적**이다.

</br>

4. **규모 적응성(scalability)**
    - 다중 처리기 구조에서는 **각각의 스레드가 다른 처리기에서 병렬로 수행**될 수 있다.

---